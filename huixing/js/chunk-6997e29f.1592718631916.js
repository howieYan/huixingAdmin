(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6997e29f"],{"1dde":function(t,e,a){var r=a("d039"),i=a("b622"),n=a("2d00"),s=i("species");t.exports=function(t){return n>=51||!r((function(){var e=[],a=e.constructor={};return a[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},3001:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AddCoursClassification"},[a("div",{staticClass:"HeaderComponent"},[a("div",{staticClass:"row"},[a("div",{staticClass:"border"}),a("div",{staticStyle:{"font-size":"17px"}},[t._v(t._s(t.firstId?"新增下级":"添加课程"))])]),a("div",[a("Button",{attrs:{icon:"ios-arrow-back"},on:{click:t.onBack}},[t._v("返回")])],1)]),a("div",{staticClass:"content AddCoursList"},[a("div",[a("Card",{attrs:{"dis-hover":""}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v(" 添加课程 ")]),a("div",{staticClass:"addForm"},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{flex:"1"}},[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":230}},[a("div",{staticClass:"addFormBasic"},[a("div",{staticClass:"position"},[a("div",{staticClass:"name"},[t._v(" 基本信息 ")]),a("span",{staticClass:"border"})])]),a("FormItem",{attrs:{label:"课程名称",prop:"classifyName"}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入分类名称"},model:{value:t.formValidate.classifyName,callback:function(e){t.$set(t.formValidate,"classifyName",e)},expression:"formValidate.classifyName"}})],1),a("FormItem",{attrs:{label:"课程分类"}},[a("Select",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"全部"},on:{"on-change":t.onChangeClassif},model:{value:t.formValidate.classifyId,callback:function(e){t.$set(t.formValidate,"classifyId",e)},expression:"formValidate.classifyId"}},t._l(t.classifyList,(function(e,r){return a("Option",{key:r,attrs:{value:e.id}},[t._v(t._s(e.classifyName))])})),1),a("Select",{staticStyle:{width:"200px"},attrs:{disabled:!t.formValidate.classifyId,placeholder:"全部"},model:{value:t.formValidate.tagId,callback:function(e){t.$set(t.formValidate,"tagId",e)},expression:"formValidate.tagId"}},t._l(t.tagList,(function(e,r){return a("Option",{key:r,attrs:{value:e.id}},[t._v(t._s(e.tagName))])})),1)],1),a("FormItem",{attrs:{label:"课程类型"}},[a("RadioGroup",{model:{value:t.formValidate.classifyStatus,callback:function(e){t.$set(t.formValidate,"classifyStatus",e)},expression:"formValidate.classifyStatus"}},[a("Radio",{attrs:{label:"0"}},[t._v("VIP专享课程")]),a("Radio",{attrs:{label:"1"}},[t._v("付费课程")]),a("Radio",{attrs:{label:"1"}},[t._v("免费课程")])],1)],1),a("FormItem",{attrs:{label:"课程原价",prop:"classifyName"}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入分类名称"},model:{value:t.formValidate.classifyName,callback:function(e){t.$set(t.formValidate,"classifyName",e)},expression:"formValidate.classifyName"}})],1),a("FormItem",{attrs:{label:"VIP专享价",prop:"classifyName"}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入分类名称"},model:{value:t.formValidate.classifyName,callback:function(e){t.$set(t.formValidate,"classifyName",e)},expression:"formValidate.classifyName"}})],1),a("FormItem",{attrs:{label:"课程简介"}},[a("Editor",{staticStyle:{height:"300px",width:"700px"},attrs:{content:t.content},on:{updateDataEvent:t.updateData}})],1),a("FormItem",{attrs:{label:"课程讲师"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"全部"},model:{value:t.formValidate.tagId,callback:function(e){t.$set(t.formValidate,"tagId",e)},expression:"formValidate.tagId"}},t._l(t.tagList,(function(e,r){return a("Option",{key:r,attrs:{value:e.id}},[t._v(t._s(e.tagName))])})),1)],1),a("FormItem",{attrs:{label:"讲师简介"}},[a("Input",{staticStyle:{width:"350px"},attrs:{type:"textarea",rows:5,placeholder:"讲师简介"},model:{value:t.formValidate.classifyName,callback:function(e){t.$set(t.formValidate,"classifyName",e)},expression:"formValidate.classifyName"}})],1),a("FormItem",{attrs:{label:"课程排序",prop:"classifyName"}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入分类名称"},model:{value:t.formValidate.classifyName,callback:function(e){t.$set(t.formValidate,"classifyName",e)},expression:"formValidate.classifyName"}})],1),a("div",{staticClass:"addFormBasic"},[a("div",{staticClass:"position"},[a("div",{staticClass:"name"},[t._v(" 课程章节 ")]),a("span",{staticClass:"border"})])]),t._l(t.chapterList,(function(e,r){return a("div",{key:r},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{"padding-right":"15px"}},t._l(e.child,(function(e,r){return a("FormItem",{key:r,staticClass:"ivu-form-item-required",attrs:{label:e.title}},[2!==r?a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入分类名称"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}}):a("RadioGroup",{model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}},[a("Radio",{attrs:{label:"1"}},[t._v("是")]),a("Radio",{attrs:{label:"0"}},[t._v("否")])],1)],1)})),1),a("Button",{on:{click:function(e){return t.handleRemove(r)}}},[t._v("删除")])],1)])})),a("FormItem",[a("Button",{attrs:{type:"dashed",icon:"md-add"},on:{click:t.handleAdd}},[t._v("添加章节")])],1),a("FormItem",{attrs:{label:"是否热门"}},[a("RadioGroup",{model:{value:t.formValidate.classifyStatus,callback:function(e){t.$set(t.formValidate,"classifyStatus",e)},expression:"formValidate.classifyStatus"}},[a("Radio",{attrs:{label:"1"}},[t._v("是")]),a("Radio",{attrs:{label:"0"}},[t._v("否")])],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formDynamic")}}},[t._v("保存，暂不上架")]),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:function(e){return t.handleReset("formDynamic")}}},[t._v("完成，提交上架")])],1)],2)],1)])])])],1)])])},i=[],n=(a("a434"),a("b0c0"),a("a9e3"),a("96cf"),a("1da1")),s=a("4ec3"),o=a("5599"),c=a("ceb0"),l={name:"AddCoursList",components:{Editor:c["a"]},data:function(){return{classifyList:[],tagList:[],content:"测试文章内容111111111",chapterList:[{index:0,child:[{title:"章节名称",value:""},{title:"章节视频",value:""},{title:"是否显示",value:""}]}],uploadToken:"",uploadKey:"",domain:"http://upload.qiniu.com",qiniuaddr:"pd6rnk9ck.bkt.clouddn.com",form:{},QiniuData:{key:"",token:""},formValidate:{chargeType:"",classifyId:"",classifySort:"",classifyStatus:"",parentId:"",classifyImageKey:""},ruleValidate:{classifyName:[{required:!0,message:"分类名称不能为空",trigger:"blur"}],classifyImage:[{required:!0,message:"分类图标不能为空",trigger:"blur"}],classifyStatus:[{required:!0,message:"状态不能为空",trigger:"change"}]}}},computed:{firstId:function(){return this.$route.query.firstId}},methods:{formatNumber:o["a"],handleRemove:function(t){this.chapterList.splice(t,1)},handleAdd:function(){var t=0;return this.chapterList.push({index:t++,child:[{title:"章节名称",value:""},{title:"章节视频",value:""},{title:"是否显示",value:""}]}),!1},onBack:function(){this.$router.go(-1)},onChangeClassif:function(t){t&&this.LoadClassificationEr(t)},LoadClassificationEr:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s["a"].ClassificationEr({firstId:t});case 3:r=a.sent,200===r.code?e.tagList=r.data:e.$Message.error(r.msg),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},updateData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.content=t,console.info(t)},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var a={classifyImage:e.formValidate.classifyImageKey,classifyName:e.formValidate.classifyName,classifySort:e.formValidate.classifySort,classifyStatus:e.formValidate.classifyStatus,parentId:e.formValidate.parentId};e.LoadDataAdd(a)}else e.$Message.error("请按要求填写")}))},LoadDataAdd:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s["a"].ClassificationAdd(t);case 3:r=a.sent,200===r.code?(e.$Message.success("添加分类成功"),e.onBack()):e.$Message.error(r.msg),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},uploadError:function(t,e,a){this.$Message({message:"上传出错，请重试！",type:"error",center:!0})},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type||"image/gif"===t.type,a=t.size/1024/1024<2;return e||this.$Message.error("上传文件只能是 JPG、PNG、gif 格式!"),a||this.$Message.error("上传图片大小不能超过 2MB!"),this.QiniuData.key="".concat(this.formatNumber(new Date))+t.name,e&&a},LoadQiNiuToken:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["a"].updateToken();case 3:a=e.sent,200===a.code?t.QiniuData.token=a.data:t.$Message.error(a.message),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},handleAvatarSuccess:function(t){this.LoadupdateUrl({key:t.key})},LoadupdateUrl:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s["a"].updateUrl(t);case 3:r=a.sent,200===r.code?(e.formValidate.classifyImage=r.data,e.formValidate.classifyImageKey=t.key,e.$Message.success("上传成功"),e.$refs.upload&&e.$refs.upload.clearFiles()):e.$Message.error(r.msg),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},LoadData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["a"].ClassificationParentId();case 3:a=e.sent,200===a.code?(t.ParentList=a.data,t.firstId&&(t.formValidate.parentId=Number(t.firstId))):t.$Message.error(a.msg),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},LoadDictionary:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["a"].ClassificationParentId();case 3:a=e.sent,200===a.code?t.classifyList=a.data:t.$Message.error(a.msg),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},created:function(){this.LoadData(),this.LoadDictionary()},mounted:function(){},updated:function(){}},u=l,d=(a("3aee"),a("2877")),f=Object(d["a"])(u,r,i,!1,null,null,null);e["default"]=f.exports},"3aee":function(t,e,a){"use strict";var r=a("7d44"),i=a.n(r);i.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),i=a("5899"),n="["+i+"]",s=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),c=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},"58d3":function(t,e,a){"use strict";var r=a("f08e"),i=a.n(r);i.a},"65f0":function(t,e,a){var r=a("861d"),i=a("e8b5"),n=a("b622"),s=n("species");t.exports=function(t,e){var a;return i(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?r(a)&&(a=a[s],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},7156:function(t,e,a){var r=a("861d"),i=a("d2bb");t.exports=function(t,e,a){var n,s;return i&&"function"==typeof(n=e.constructor)&&n!==a&&r(s=n.prototype)&&s!==a.prototype&&i(t,s),t}},"7d44":function(t,e,a){},8418:function(t,e,a){"use strict";var r=a("c04e"),i=a("9bf2"),n=a("5c6c");t.exports=function(t,e,a){var s=r(e);s in t?i.f(t,s,n(0,a)):t[s]=a}},a434:function(t,e,a){"use strict";var r=a("23e7"),i=a("23cb"),n=a("a691"),s=a("50c4"),o=a("7b0b"),c=a("65f0"),l=a("8418"),u=a("1dde"),d=a("ae40"),f=u("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,h=9007199254740991,y="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!m},{splice:function(t,e){var a,r,u,d,f,m,g=o(this),b=s(g.length),I=i(t,b),x=arguments.length;if(0===x?a=r=0:1===x?(a=0,r=b-I):(a=x-2,r=v(p(n(e),0),b-I)),b+a-r>h)throw TypeError(y);for(u=c(g,r),d=0;d<r;d++)f=I+d,f in g&&l(u,d,g[f]);if(u.length=r,a<r){for(d=I;d<b-r;d++)f=d+r,m=d+a,f in g?g[m]=g[f]:delete g[m];for(d=b;d>b-r+a;d--)delete g[d-1]}else if(a>r)for(d=b-r;d>I;d--)f=d+r-1,m=d+a-1,f in g?g[m]=g[f]:delete g[m];for(d=0;d<a;d++)g[d+I]=arguments[d+2];return g.length=b-r+a,u}})},a9e3:function(t,e,a){"use strict";var r=a("83ab"),i=a("da84"),n=a("94ca"),s=a("6eeb"),o=a("5135"),c=a("c6b6"),l=a("7156"),u=a("c04e"),d=a("d039"),f=a("7c73"),m=a("241c").f,p=a("06cf").f,v=a("9bf2").f,h=a("58a8").trim,y="Number",g=i[y],b=g.prototype,I=c(f(b))==y,x=function(t){var e,a,r,i,n,s,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=h(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(n=l.slice(2),s=n.length,o=0;o<s;o++)if(c=n.charCodeAt(o),c<48||c>i)return NaN;return parseInt(n,r)}return+l};if(n(y,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var k,S=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof S&&(I?d((function(){b.valueOf.call(a)})):c(a)!=y)?l(new g(x(e)),a,S):x(e)},V=r?m(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;V.length>N;N++)o(g,k=V[N])&&!o(S,k)&&v(S,k,p(g,k));S.prototype=b,b.constructor=S,s(i,y,S)}},ae40:function(t,e,a){var r=a("83ab"),i=a("d039"),n=a("5135"),s=Object.defineProperty,o={},c=function(t){throw t};t.exports=function(t,e){if(n(o,t))return o[t];e||(e={});var a=[][t],l=!!n(e,"ACCESSORS")&&e.ACCESSORS,u=n(e,0)?e[0]:c,d=n(e,1)?e[1]:void 0;return o[t]=!!a&&!i((function(){if(l&&!r)return!0;var t={length:-1};l?s(t,1,{enumerable:!0,get:c}):t[1]=1,a.call(t,u,d)}))}},b0c0:function(t,e,a){var r=a("83ab"),i=a("9bf2").f,n=Function.prototype,s=n.toString,o=/^\s*function ([^ (]*)/,c="name";r&&!(c in n)&&i(n,c,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(t){return""}}})},ceb0:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("quill-editor",{attrs:{content:t.content,options:t.editorOption},on:{change:function(e){return t.onEditorChange(e)}}})],1)},i=[],n=(a("a753"),a("8096"),a("14e1"),a("953d")),s={name:"Editor",components:{quillEditor:n["quillEditor"]},props:["updateDataEvent","content"],data:function(){return{editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"]]}}}},computed:{},mounted:function(){},methods:{onEditorChange:function(t){t.quill;var e=t.html;t.text;this.$emit("updateDataEvent",e)}},created:function(){},updated:function(){}},o=s,c=(a("58d3"),a("2877")),l=Object(c["a"])(o,r,i,!1,null,null,null);e["a"]=l.exports},e8b5:function(t,e,a){var r=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},f08e:function(t,e,a){}}]);