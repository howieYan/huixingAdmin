(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d0b7243"],{"44cd":function(e,t,a){},"58d3":function(e,t,a){"use strict";var r=a("f08e"),n=a.n(r);n.a},a517:function(e,t,a){"use strict";var r=a("44cd"),n=a.n(r);n.a},b0c0:function(e,t,a){var r=a("83ab"),n=a("9bf2").f,o=Function.prototype,i=o.toString,s=/^\s*function ([^ (]*)/,c="name";r&&!(c in o)&&n(o,c,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(e){return""}}})},ceb0:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("quill-editor",{attrs:{content:e.content,options:e.editorOption},on:{change:function(t){return e.onEditorChange(t)}}})],1)},n=[],o=(a("a753"),a("8096"),a("14e1"),a("953d")),i={name:"Editor",components:{quillEditor:o["quillEditor"]},props:["updateDataEvent","content"],data:function(){return{editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"]]}}}},computed:{},mounted:function(){},methods:{onEditorChange:function(e){e.quill;var t=e.html;e.text;this.$emit("updateDataEvent",t)}},created:function(){},updated:function(){}},s=i,c=(a("58d3"),a("2877")),d=Object(c["a"])(s,r,n,!1,null,null,null);t["a"]=d.exports},e610:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AddCoursClassification"},[a("div",{staticClass:"HeaderComponent"},[a("div",{staticClass:"row"},[a("div",{staticClass:"border"}),a("div",{staticStyle:{"font-size":"17px"}},[e._v(e._s(e.firstId?"新增下级":"添加讲师"))])]),a("div",[a("Button",{attrs:{icon:"ios-arrow-back"},on:{click:e.onBack}},[e._v("返回")])],1)]),a("div",{staticClass:"content AddCoursList"},[a("div",[a("Card",{attrs:{"dis-hover":""}},[a("p",{attrs:{slot:"title"},slot:"title"},[e._v(" 添加讲师 ")]),a("div",{staticClass:"addForm"},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":300}},[a("FormItem",{attrs:{label:"讲师账户",prop:"id"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入手机号搜索讲师",filterable:"",remote:"","remote-method":e.remoteMethod,loading:e.loading},model:{value:e.formValidate.id,callback:function(t){e.$set(e.formValidate,"id",t)},expression:"formValidate.id"}},e._l(e.userList,(function(t,r){return a("Option",{key:r,attrs:{value:t.id}},[e._v(e._s(t.phone))])})),1)],1),a("FormItem",{attrs:{label:"讲师昵称",prop:"nickName"}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入讲师昵称"},model:{value:e.formValidate.nickName,callback:function(t){e.$set(e.formValidate,"nickName",t)},expression:"formValidate.nickName"}})],1),a("FormItem",{attrs:{label:"头像"}},[a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{limit:1,action:e.domain,data:e.QiniuData,"on-error":e.uploadError,"before-upload":e.beforeAvatarUpload,"on-success":e.handleAvatarSuccess,"show-file-list":!1}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 尺寸为-*-比例，大小不能超过2MB，图片只能为jpg、png格式 ")]),e.formValidate.headImg?a("img",{staticClass:"avatar",attrs:{src:e.formValidate.headImg}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),a("Input",{staticStyle:{display:"none"},attrs:{clearable:"",placeholder:""},model:{value:e.formValidate.headImg,callback:function(t){e.$set(e.formValidate,"headImg",t)},expression:"formValidate.headImg"}})],1)],1),a("FormItem",{attrs:{label:"讲师简介"}},[a("Editor",{staticStyle:{height:"300px",width:"700px"},attrs:{content:e.formValidate.remark},on:{updateDataEvent:e.updateData}})],1),a("FormItem",{attrs:{label:"状态",prop:"status"}},[a("RadioGroup",{model:{value:e.formValidate.status,callback:function(t){e.$set(e.formValidate,"status",t)},expression:"formValidate.status"}},[a("Radio",{attrs:{label:"0"}},[e._v("开启")]),a("Radio",{attrs:{label:"1"}},[e._v("禁用")])],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("提交")])],1)],1)],1)])],1)])])},n=[],o=(a("b0c0"),a("96cf"),a("1da1")),i=a("4ec3"),s=a("5599"),c=a("ceb0"),d={name:"AddInstructorList",components:{Editor:c["a"]},data:function(){return{loading:!0,userList:[],domain:"http://upload.qiniu.com",QiniuData:{key:"",token:""},formValidate:{headImg:"",id:"",remark:"",status:"",nickName:"",headImgKey:""},ruleValidate:{id:[{type:"number",required:!0,message:"讲师账户不能为空",trigger:"change"}],nickName:[{required:!0,message:"讲师昵称不能为空",trigger:"blur"}]}}},computed:{firstId:function(){return this.$route.query.firstId}},methods:{formatNumber:s["a"],onBack:function(){this.$router.go(-1)},updateData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.formValidate.remark=e,console.info(e)},remoteMethod:function(e){""!==e?(this.loading=!0,this.LoadData(e)):this.userList=[]},LoadData:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r=new FormData,r.append("phone",e),a.next=5,i["a"].InstructorListUser(r);case 5:n=a.sent,console.log(n),200===n.code?(t.loading=!1,t.userList=n.data):t.$Message.error(n.msg),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),console.error(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var a=new FormData;a.append("headImg",t.formValidate.headImgKey),a.append("id",t.formValidate.id),a.append("nickName",t.formValidate.nickName),a.append("remark",t.formValidate.remark),a.append("status",t.formValidate.status),t.LoadDataAdd(a)}else t.$Message.error("请按要求填写")}))},LoadDataAdd:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i["a"].InstructorAdd(e);case 3:r=a.sent,200===r.code?(t.$Message.success("添加讲师成功"),t.onBack()):t.$Message.error(r.msg),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},uploadError:function(e,t,a){this.$Message({message:"上传出错，请重试！",type:"error",center:!0})},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type,a=e.size/1024/1024<2;return t||this.$Message.error("上传文件只能是 JPG、PNG、gif 格式!"),a||this.$Message.error("上传图片大小不能超过 2MB!"),this.QiniuData.key="".concat(this.formatNumber(new Date))+e.name,t&&a},LoadQiNiuToken:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i["a"].updateToken();case 3:a=t.sent,200===a.code?e.QiniuData.token=a.data:e.$Message.error(a.message),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},handleAvatarSuccess:function(e){this.LoadupdateUrl({key:e.key})},LoadupdateUrl:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i["a"].updateUrl(e);case 3:r=a.sent,200===r.code?(t.formValidate.headImg=r.data,t.formValidate.headImgKey=e.key,t.$Message.success("上传成功"),t.$refs.upload&&t.$refs.upload.clearFiles()):t.$Message.error(r.msg),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()}},created:function(){this.LoadQiNiuToken()},mounted:function(){},updated:function(){}},l=d,u=(a("a517"),a("2877")),m=Object(u["a"])(l,r,n,!1,null,null,null);t["default"]=m.exports},f08e:function(e,t,a){}}]);