(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a0028fc"],{4903:function(t,e,a){},cf05:function(t,e,a){t.exports=a.p+"assets/img/logo.82b9c7a5.png"},d30f:function(t,e,a){"use strict";var n=a("4903"),i=a.n(n);i.a},e6cc:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"UserList"},[n("div",{staticClass:"HeaderComponent"},[t._m(0),n("div",[n("Button",{attrs:{icon:"ios-search"},on:{click:t.LoadData}},[t._v("刷新")])],1)]),n("div",{staticClass:"content"},[n("div",[n("Card",{staticClass:"PlatformPostAvatar",attrs:{"dis-hover":""}},[n("div",{staticClass:"headersAvatar"},[n("img",{attrs:{src:a("cf05"),alt:""}}),n("div",{staticStyle:{flex:"1","padding-left":"20px"}},[t._v("发布者昵称")]),n("Button",{attrs:{type:"primary",icon:"ios-create-outline",size:"small"}},[t._v(" 编辑 ")])],1)])],1),n("div",{staticStyle:{"padding-top":"10px"}},[n("Card",{attrs:{"dis-hover":""}},[n("p",{attrs:{slot:"title"},slot:"title"},[t._v(" 帖子列表 ")]),n("p",{attrs:{slot:"extra"},slot:"extra"},[n("Button",{attrs:{type:"primary",icon:"ios-add",size:"small"},on:{click:t.onAdd}},[t._v(" 添加 ")])],1),n("div",{staticClass:"table"},[n("Table",{attrs:{border:"",columns:t.columns,size:"small",data:t.data,loading:t.loading},scopedSlots:t._u([{key:"imgPath",fn:function(t){var e=t.row;t.index;return[n("img",{staticStyle:{width:"40px"},attrs:{src:e.imgPath,alt:""}})]}},{key:"nickname",fn:function(e){var a=e.row;e.index;return[t._v(" "+t._s(a.user.nickname)+" ")]}},{key:"status",fn:function(e){var a=e.row;e.index;return[t._v(" "+t._s(0==a.status?"禁用":"启用")+" ")]}},{key:"action",fn:function(e){var a=e.row;e.index;return[n("div",{staticClass:"TableAction"},[n("Tooltip",{attrs:{content:"编辑",placement:"top",transfer:!0}},[n("Icon",{staticStyle:{"margin-right":"5px","font-size":"22px",color:"#0077CB",cursor:"pointer"},attrs:{type:"ios-create-outline"},on:{click:function(e){return t.onEdit(a)}}})],1),n("Tooltip",{attrs:{content:"删除",placement:"top",transfer:!0}},[n("Icon",{staticStyle:{"font-size":"22px",color:"#F56C6C",cursor:"pointer"},attrs:{type:"ios-trash-outline"}})],1)],1)]}}])}),n("div",{staticClass:"Pages"},[n("Page",{attrs:{total:t.formInline.total,current:t.formInline.pageNum,"page-size":t.formInline.pageSize,"page-size-opts":[10,20,30,50],"show-sizer":"",size:"small"},on:{"on-change":t.onChangePage,"on-page-size-change":t.onChangePageSize}})],1)],1)])],1)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"border"}),a("div",{staticStyle:{"font-size":"17px"}},[t._v("平台帖子")])])}],r=(a("96cf"),a("1da1")),s=a("5599"),o=a("4ec3"),l={name:"PlatformPost",data:function(){return{loading:!0,formInline:{name:"",status:"",endTime:"",startTime:"",pageSize:10,pageNum:1,total:0},time:[],isExport:!1,data:[]}},computed:{columns:function(){var t=this,e=[];return e.push({align:"center",title:"发布者",key:"nickname"}),e.push({align:"center",title:"头像",slot:"imgPath"}),e.push({align:"center",title:"话题",sortable:!0,key:"content",width:180}),e.push({align:"center",title:"帖子标题",key:"title",sortable:!0,width:180}),e.push({align:"center",title:"评论量",sortable:!0,key:"comments"}),e.push({align:"center",title:"点赞量",sortable:!0,key:"thumbs"}),e.push({align:"center",title:"分享量",sortable:!0,key:""}),e.push({align:"center",title:"创建人",key:"userId"}),e.push({title:"创建时间",align:"center",width:180,sortable:!0,key:"createTime",render:function(e,a){var n=t.formatTs(a.row.createTime);return e("div",[e("div",{slot:"content",style:{worWrap:"break-word",whiteSpace:"normal",wordBreak:"break-all",textAlign:"center"}},n)])}}),e.push({align:"center",title:"状态",slot:"status"}),e.push({title:"操作",slot:"action",align:"center",width:100}),e}},methods:{formatTs:s["b"],onAdd:function(){this.$router.push({path:"/addPlatformPost"})},onEdit:function(t){this.$router.push({path:"/addPlatformPost",query:{id:t.id}})},onChangePage:function(t){this.formInline.pageNum=t,this.LoadData()},onChangePageSize:function(t){this.formInline.pageSize=t,this.LoadData()},LoadData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,a=new FormData,a.append("pageNum",t.formInline.pageNum),a.append("pageSize",t.formInline.pageSize),e.next=7,o["a"].PlatformPostList(a);case 7:n=e.sent,200===n.code?(t.data=n.data.records,t.formInline.total=n.data.total):t.$Message.error(n.message),t.loading=!1,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log("222222222",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}},created:function(){this.LoadData()},mounted:function(){},updated:function(){}},c=l,u=(a("d30f"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,null,null);e["default"]=d.exports}}]);