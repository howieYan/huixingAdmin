(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53f81197"],{2025:function(t,e,i){},6264:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"UserList"},[i("div",{staticClass:"HeaderComponent"},[t._m(0),i("div",[i("Button",{attrs:{icon:"ios-search"},on:{click:t.LoadData}},[t._v("刷新")])],1)]),i("div",{staticClass:"content ActivityList"},[i("div",[i("Card",{attrs:{"dis-hover":""}},[i("p",{attrs:{slot:"title"},slot:"title"},[t._v(" 数据筛选 ")]),i("div",{staticClass:"search"},[i("div",{staticClass:"row"},[i("div",{staticClass:"name"},[t._v("活动名称：")]),i("Input",{staticStyle:{width:"150px"},attrs:{size:"small",placeholder:"请输入活动名称"},model:{value:t.formInline.title,callback:function(e){t.$set(t.formInline,"title",e)},expression:"formInline.title"}})],1),i("div",{staticClass:"row"},[i("div",{staticClass:"name"},[t._v("是否需要付费：")]),i("Select",{staticStyle:{width:"150px"},attrs:{size:"small",placeholder:"全部"},model:{value:t.formInline.payRequired,callback:function(e){t.$set(t.formInline,"payRequired",e)},expression:"formInline.payRequired"}},[i("Option",{attrs:{value:"0"}},[t._v("否")]),i("Option",{attrs:{value:"1"}},[t._v("是")])],1)],1),i("div",{staticClass:"row"},[i("div",{staticClass:"name"},[t._v("创建时间：")]),i("DatePicker",{staticStyle:{width:"320px"},attrs:{type:"datetimerange",size:"small",placeholder:"请选择创建开始时间-结束时间"},on:{"on-change":t.onChangeTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),i("div",{staticClass:"row"},[i("div",{staticClass:"name"},[t._v("活动时间：")]),i("DatePicker",{staticStyle:{width:"320px"},attrs:{type:"datetimerange",size:"small",placeholder:"请选择活动开始时间-结束时间"},on:{"on-change":t.onChangeTimeEvent},model:{value:t.timeEvent,callback:function(e){t.timeEvent=e},expression:"timeEvent"}})],1),i("div",{staticClass:"row"},[i("div",{staticClass:"name"},[t._v("状态：")]),i("Select",{staticStyle:{width:"150px"},attrs:{size:"small",placeholder:"全部"},model:{value:t.formInline.status,callback:function(e){t.$set(t.formInline,"status",e)},expression:"formInline.status"}},[i("Option",{attrs:{value:"0"}},[t._v("下架")]),i("Option",{attrs:{value:"1"}},[t._v("上架")])],1)],1),i("div",{staticClass:"row"},[i("Button",{staticStyle:{"margin-right":"15px"},attrs:{type:"primary",icon:"ios-search",size:"small"},on:{click:function(e){return t.onSearch()}}},[t._v("查询 ")]),i("Button",{attrs:{icon:"ios-search",size:"small"},on:{click:function(e){return t.onReset()}}},[t._v("重置")])],1)])])],1),i("div",{staticStyle:{"padding-top":"10px"}},[i("Card",{attrs:{"dis-hover":""}},[i("p",{attrs:{slot:"title"},slot:"title"},[t._v(" 数据列表 ")]),i("p",{attrs:{slot:"extra"},slot:"extra"},[i("Button",{attrs:{type:"primary",icon:"ios-add",size:"small"},on:{click:t.onAdd}},[t._v(" 添加 ")])],1),i("div",{staticClass:"table"},[i("Table",{attrs:{border:"",columns:t.columns,size:"small",data:t.data,loading:t.loading},scopedSlots:t._u([{key:"type",fn:function(e){var i=e.row;e.index;return[t._v(" "+t._s(0==i.type?"活动":"通知")+" ")]}},{key:"status",fn:function(e){var i=e.row;e.index;return[t._v(" "+t._s(0==i.status?"下架":"上架")+" ")]}},{key:"action",fn:function(e){var a=e.row;e.index;return[i("div",{staticClass:"TableAction"},[i("Tooltip",{attrs:{content:"编辑",placement:"top",transfer:!0}},[i("Icon",{staticStyle:{"margin-right":"5px","font-size":"22px",color:"#0077CB",cursor:"pointer"},attrs:{type:"ios-create-outline"},on:{click:function(e){return t.onEdit(a)}}})],1),i("Tooltip",{attrs:{content:"删除",placement:"top",transfer:!0}},[i("Icon",{staticStyle:{"font-size":"22px",color:"#F56C6C"},attrs:{type:"ios-trash-outline"}})],1)],1)]}}])}),i("div",{staticClass:"Pages"},[i("Page",{attrs:{total:t.formInline.total,current:t.formInline.pageNum,"page-size":t.formInline.pageSize,"page-size-opts":[10,20,30,50],"show-sizer":"",size:"small"},on:{"on-change":t.onChangePage,"on-page-size-change":t.onChangePageSize}})],1)],1)])],1)])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"border"}),i("div",{staticStyle:{"font-size":"17px"}},[t._v("活动管理")])])}],s=(i("96cf"),i("1da1")),r=i("5599"),o=i("4ec3"),l={name:"ActivityList",data:function(){return{loading:!0,formInline:{activityEndTime:"",activityStartTime:"",createdEndTime:"",createdStartTime:"",payRequired:"",status:"",title:"",pageSize:10,pageNum:1,total:0},time:[],timeEvent:[],isExport:!1,data:[]}},computed:{columns:function(){var t=this,e=[];return e.push({align:"center",title:"编号",sortable:!0,key:"id"}),e.push({align:"center",title:"活动名称",sortable:!0,key:"title"}),e.push({align:"center",title:"活动类型",slot:"type"}),e.push({align:"center",title:"报名人数",key:"numberOfMan"}),e.push({title:"创建时间",align:"center",width:180,sortable:!0,key:"createTime",render:function(e,i){var a=t.formatTs(i.row.createTime);return e("div",[e("div",{slot:"content",style:{worWrap:"break-word",whiteSpace:"normal",wordBreak:"break-all",textAlign:"center"}},a)])}}),e.push({title:"活动结束时间",align:"center",width:180,sortable:!0,key:"endDate",render:function(e,i){var a=t.formatTs(i.row.endDate);return e("div",[e("div",{slot:"content",style:{worWrap:"break-word",whiteSpace:"normal",wordBreak:"break-all",textAlign:"center"}},a)])}}),e.push({align:"center",title:"状态",slot:"status"}),e.push({title:"操作",slot:"action",align:"center"}),e}},methods:{formatTs:r["b"],onAdd:function(){this.$router.push({path:"/AddActivityList"})},onEdit:function(t){this.$router.push({path:"/AddActivityList",query:{id:t.id}})},onSearch:function(){this.formInline.pageNum=1,this.LoadData()},onReset:function(){this.formInline.activityEndTime="",this.formInline.activityStartTime="",this.formInline.createdEndTime="",this.formInline.createdStartTime="",this.formInline.status="",this.formInline.payRequired="",this.formInline.title="",this.formInline.pageNum=1,this.time=[],this.timeEvent=[],this.LoadData()},onExport:function(){var t=this;this.isExport=!0,setTimeout((function(){t.isExport=!1}),500)},onChangePage:function(t){this.formInline.pageNum=t,this.LoadData()},onChangePageSize:function(t){this.formInline.pageSize=t,this.LoadData()},onChangeTime:function(){this.formInline.createdStartTime=this.formatTs(this.time[0]),this.formInline.createdEndTime=this.formatTs(this.time[1])},onChangeTimeEvent:function(){this.formInline.activityStartTime=this.formatTs(this.timeEvent[0]),this.formInline.activityEndTime=this.formatTs(this.timeEvent[1])},LoadData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,i=new FormData,i.append("activityEndTime",t.formInline.activityEndTime),i.append("activityStartTime",t.formInline.activityStartTime),i.append("createdEndTime",t.formInline.createdEndTime),i.append("createdStartTime",t.formInline.createdStartTime),i.append("pageNum",t.formInline.pageNum),i.append("pageSize",t.formInline.pageSize),i.append("payRequired",t.formInline.payRequired),i.append("title",t.formInline.title),i.append("status",t.formInline.status),e.next=14,o["a"].ActivityList(i);case 14:a=e.sent,200===a.code?(t.data=a.data.records,t.formInline.total=a.data.total):t.$Message.error(a.message),t.loading=!1,e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),console.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))()}},created:function(){this.LoadData()},mounted:function(){},updated:function(){}},c=l,d=(i("d805"),i("2877")),m=Object(d["a"])(c,a,n,!1,null,null,null);e["default"]=m.exports},d805:function(t,e,i){"use strict";var a=i("2025"),n=i.n(a);n.a}}]);