(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15014886"],{"225c":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AddCoursClassification"},[a("div",{staticClass:"HeaderComponent"},[a("div",{staticClass:"row"},[a("div",{staticClass:"border"}),a("div",{staticStyle:{"font-size":"17px"}},[t._v(t._s(t.id?"编辑活动":"新建活动"))])]),a("div",[a("Button",{attrs:{icon:"ios-arrow-back"},on:{click:t.onBack}},[t._v("返回")])],1)]),a("div",{staticClass:"content AddCoursList"},[a("div",[a("Card",{attrs:{"dis-hover":""}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(t.id?"编辑活动":"新建活动")+" ")]),a("div",{staticClass:"addForm"},[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":300}},[a("FormItem",{attrs:{label:"活动名称",prop:"title"}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入轮播名称"},model:{value:t.formValidate.title,callback:function(e){t.$set(t.formValidate,"title",e)},expression:"formValidate.title"}})],1),a("FormItem",{attrs:{label:"是否需要付费"}},[a("RadioGroup",{model:{value:t.formValidate.payRequired,callback:function(e){t.$set(t.formValidate,"payRequired",e)},expression:"formValidate.payRequired"}},[a("Radio",{attrs:{label:"1"}},[t._v("是")]),a("Radio",{attrs:{label:"0"}},[t._v("否")])],1)],1),a("FormItem",{attrs:{label:"开始时间",prop:"startDateData"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetime",placeholder:"请选择开始时间"},on:{"on-change":t.onStartDate},model:{value:t.formValidate.startDateData,callback:function(e){t.$set(t.formValidate,"startDateData",e)},expression:"formValidate.startDateData"}})],1),a("FormItem",{attrs:{label:"结束时间",prop:"endDateData"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetime",placeholder:"请选择结束时间"},on:{"on-change":t.onEndDate},model:{value:t.formValidate.endDateData,callback:function(e){t.$set(t.formValidate,"endDateData",e)},expression:"formValidate.endDateData"}})],1),a("FormItem",{attrs:{label:"报名原价",prop:"payAmount"}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入轮播名称"},model:{value:t.formValidate.payAmount,callback:function(e){t.$set(t.formValidate,"payAmount",e)},expression:"formValidate.payAmount"}})],1),a("FormItem",{attrs:{label:"活动详情",prop:"detail"}},[a("Input",{staticStyle:{width:"200px",display:"none"},model:{value:t.formValidate.detail,callback:function(e){t.$set(t.formValidate,"detail",e)},expression:"formValidate.detail"}}),a("Editor",{staticStyle:{height:"300px",width:"700px"},attrs:{content:t.formValidate.detail},on:{updateDataEvent:t.updateData}})],1),a("FormItem",{attrs:{label:"简介",prop:"intro"}},[a("Input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:5,placeholder:"请输入轮播名称"},model:{value:t.formValidate.intro,callback:function(e){t.$set(t.formValidate,"intro",e)},expression:"formValidate.intro"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("提交")])],1)],1)],1)])],1)])])},i=[],n=(a("96cf"),a("1da1")),o=a("4ec3"),d=a("5599"),l=a("ceb0"),s={name:"AddActivityList",components:{Editor:l["a"]},data:function(){return{loading:!0,formValidate:{title:"",payRequired:"",payAmount:"",detail:"",intro:"",endDateData:"",endDate:"",startDateData:"",startDate:""},ruleValidate:{title:[{required:!0,message:"活动名称不能为空",trigger:"blur"}],payAmount:[{required:!0,message:"报名原价不能为空",trigger:"blur"}],detail:[{required:!0,message:"活动详情不能为空",trigger:"blur"}],startDateData:[{required:!0,type:"date",message:"开始时间不能为空",trigger:"change"}],endDateData:[{required:!0,type:"date",message:"结束时间不能为空",trigger:"change"}]}}},computed:{id:function(){return this.$route.query.id}},methods:{formatNumber:d["a"],formatTs:d["b"],onBack:function(){this.$router.go(-1)},onStartDate:function(t){this.formValidate.startDate=this.formatTs(t)},onEndDate:function(t){this.formValidate.endDate=this.formatTs(t)},updateData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.formValidate.detail=t},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var a=new FormData;a.append("title",e.formValidate.title),a.append("payRequired",e.formValidate.payRequired),a.append("payAmount",e.formValidate.payAmount),a.append("detail",e.formValidate.detail),a.append("intro",e.formValidate.intro),a.append("endDate",e.formValidate.endDate),a.append("startDate",e.formValidate.startDate),e.id?(a.append("id",e.id),e.LoadDataEdit(a)):e.LoadDataAdd(a)}else e.$Message.error("请按要求填写")}))},LoadDataEdit:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o["a"].EditActivityList(t);case 3:r=a.sent,200===r.code?(e.$Message.success("编辑活动成功"),e.onBack()):e.$Message.error(r.msg),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},LoadDataAdd:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o["a"].AddActivityList(t);case 3:r=a.sent,200===r.code?(e.$Message.success("新建活动成功"),e.onBack()):e.$Message.error(r.msg),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},LoadData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.id){e.next=6;break}return e.next=4,o["a"].ActivityListDetils({id:t.id});case 4:a=e.sent,200===a.code?(r=a.data,t.formValidate.title=r.title,t.formValidate.payRequired=r.payRequired+"",t.formValidate.payAmount=r.payAmount+"",t.formValidate.detail=r.detail,t.formValidate.intro=r.intro,t.formValidate.endDate=r.endDate,t.formValidate.startDate=r.startDate,t.formValidate.endDateData=r.endDate,t.formValidate.startDateData=r.startDate):t.$Message.error(a.msg);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},created:function(){this.LoadData()},mounted:function(){},updated:function(){}},c=s,u=(a("5c42"),a("2877")),m=Object(u["a"])(c,r,i,!1,null,null,null);e["default"]=m.exports},"327b":function(t,e,a){},"58d3":function(t,e,a){"use strict";var r=a("f08e"),i=a.n(r);i.a},"5c42":function(t,e,a){"use strict";var r=a("327b"),i=a.n(r);i.a},ceb0:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("quill-editor",{attrs:{content:t.content,options:t.editorOption},on:{change:function(e){return t.onEditorChange(e)}}})],1)},i=[],n=(a("a753"),a("8096"),a("14e1"),a("953d")),o={name:"Editor",components:{quillEditor:n["quillEditor"]},props:["updateDataEvent","content"],data:function(){return{editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"]]}}}},computed:{},mounted:function(){},methods:{onEditorChange:function(t){t.quill;var e=t.html;t.text;this.$emit("updateDataEvent",e)}},created:function(){},updated:function(){}},d=o,l=(a("58d3"),a("2877")),s=Object(l["a"])(d,r,i,!1,null,null,null);e["a"]=s.exports},f08e:function(t,e,a){}}]);